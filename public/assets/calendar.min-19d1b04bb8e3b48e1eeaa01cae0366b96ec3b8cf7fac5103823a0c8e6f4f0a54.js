!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?t(require("jquery"),require("moment")):t(jQuery,moment)}(function(v,u){function n(t,e){var n,s;this.element=t,this.options=v.extend(!0,{},i,e),this.options.moment&&(u=this.options.moment),this.constraints={next:!0,today:!0,previous:!0,nextYear:!0,previousYear:!0},this.options.events.length&&(this.options.multiDayEvents?this.options.events=this.addMultiDayMomentObjectsToEvents(this.options.events):this.options.events=this.addMomentObjectToEvents(this.options.events)),this.options.lengthOfTime.months||this.options.lengthOfTime.days?this.options.lengthOfTime.months?(this.options.lengthOfTime.days=null,this.options.lengthOfTime.startDate?this.intervalStart=u(this.options.lengthOfTime.startDate).startOf("month"):this.options.startWithMonth?this.intervalStart=u(this.options.startWithMonth).startOf("month"):this.intervalStart=u().startOf("month"),this.intervalEnd=u(this.intervalStart).add(this.options.lengthOfTime.months,"months").subtract(1,"days"),this.month=this.intervalStart.clone()):this.options.lengthOfTime.days&&(this.options.lengthOfTime.startDate?this.intervalStart=u(this.options.lengthOfTime.startDate).startOf("day"):this.intervalStart=u().weekday(0).startOf("day"),this.intervalEnd=u(this.intervalStart).add(this.options.lengthOfTime.days-1,"days").endOf("day"),this.month=this.intervalStart.clone()):(this.month=u().startOf("month"),this.intervalStart=u(this.month),this.intervalEnd=u(this.month).endOf("month")),this.options.startWithMonth&&(this.month=u(this.options.startWithMonth).startOf("month"),this.intervalStart=u(this.month),this.intervalEnd=this.options.lengthOfTime.days?u(this.month).add(this.options.lengthOfTime.days-1,"days").endOf("day"):u(this.month).endOf("month")),this.options.constraints&&(this.options.constraints.startDate&&(s=u(this.options.constraints.startDate),this.options.lengthOfTime.days?(this.intervalStart.isBefore(s,"week")&&(this.intervalStart=s.startOf("week")),(this.intervalStart.diff(this.intervalEnd,"days")<this.options.lengthOfTime.days||this.intervalEnd.isBefore(this.intervalStart))&&(this.intervalEnd=u(this.intervalStart).add(this.options.lengthOfTime.days-1,"days").endOf("day"),this.month=this.intervalStart.clone())):(this.intervalStart.isBefore(s,"month")&&(this.intervalStart.set("month",s.month()).set("year",s.year()),this.month.set("month",s.month()).set("year",s.year())),this.intervalEnd.isBefore(s,"month")&&this.intervalEnd.set("month",s.month()).set("year",s.year()))),this.options.constraints.endDate&&(n=u(this.options.constraints.endDate),this.options.lengthOfTime.days?this.intervalStart.isAfter(n,"week")&&(this.intervalStart=u(n).endOf("week").subtract(this.options.lengthOfTime.days-1,"days").startOf("day"),this.intervalEnd=u(n).endOf("week"),this.month=this.intervalStart.clone()):(this.intervalEnd.isAfter(n,"month")&&(this.intervalEnd.set("month",n.month()).set("year",n.year()),this.month.set("month",n.month()).set("year",n.year())),this.intervalStart.isAfter(n,"month")&&this.intervalStart.set("month",n.month()).set("year",n.year())))),this._defaults=i,this._name=a,this.init()}var a="clndr",i={events:[],ready:null,extras:null,render:null,moment:null,weekOffset:0,constraints:null,forceSixRows:null,selectedDate:null,doneRendering:null,daysOfTheWeek:null,multiDayEvents:null,startWithMonth:null,dateParameter:"date",template:"<div class='clndr-controls'><div class='clndr-control-button'><span class='clndr-previous-button'>previous</span></div><div class='month'><%= month %> <%= year %></div><div class='clndr-control-button rightalign'><span class='clndr-next-button'>next</span></div></div><table class='clndr-table' border='0' cellspacing='0' cellpadding='0'><thead><tr class='header-days'><% for(var i = 0; i < daysOfTheWeek.length; i++) { %><td class='header-day'><%= daysOfTheWeek[i] %></td><% } %></tr></thead><tbody><% for(var i = 0; i < numberOfRows; i++){ %><tr><% for(var j = 0; j < 7; j++){ %><% var d = j + i * 7; %><td class='<%= days[d].classes %>'><div class='day-contents'><%= days[d].day %></div></td><% } %></tr><% } %></tbody></table>",showAdjacentMonths:!0,trackSelectedDate:!1,adjacentDaysChangeMonth:!1,ignoreInactiveDaysInSelection:null,lengthOfTime:{days:null,interval:1,months:null},clickEvents:{click:null,today:null,nextYear:null,nextMonth:null,nextInterval:null,previousYear:null,onYearChange:null,previousMonth:null,onMonthChange:null,previousInterval:null,onIntervalChange:null},targets:{day:"day",empty:"empty",nextButton:"clndr-next-button",todayButton:"clndr-today-button",previousButton:"clndr-previous-button",nextYearButton:"clndr-next-year-button",previousYearButton:"clndr-previous-year-button"},classes:{past:"past",today:"today",event:"event",inactive:"inactive",selected:"selected",lastMonth:"last-month",nextMonth:"next-month",adjacentMonth:"adjacent-month"}};n.prototype.init=function(){if(this.daysOfTheWeek=this.options.daysOfTheWeek||[],!this.options.daysOfTheWeek){this.daysOfTheWeek=[];for(var t=0;t<7;t++)this.daysOfTheWeek.push(u().weekday(t).format("dd").charAt(0))}if(this.options.weekOffset&&(this.daysOfTheWeek=this.shiftWeekdayLabels(this.options.weekOffset)),!v.isFunction(this.options.render)){if(this.options.render=null,"undefined"==typeof _)throw new Error("Underscore was not found. Please include underscore.js OR provide a custom render function.");this.compiledClndrTemplate=_.template(this.options.template)}v(this.element).html("<div class='clndr'></div>"),this.calendarContainer=v(".clndr",this.element),this.bindEvents(),this.render(),this.options.ready&&this.options.ready.apply(this,[])},n.prototype.shiftWeekdayLabels=function(t){for(var e=this.daysOfTheWeek,n=0;n<t;n++)e.push(e.shift());return e},n.prototype.createDaysObject=function(e,n){var s,a,i,o,t,r,h=[],l=e.clone();if(n.diff(e,"days"),this._currentIntervalStart=e.clone(),this.eventsLastMonth=[],this.eventsNextMonth=[],this.eventsThisInterval=[],this.options.events.length&&(this.eventsThisInterval=v(this.options.events).filter(function(){var t=this._clndrStartDateObject.isAfter(n);return!this._clndrEndDateObject.isBefore(e)&&!t}).toArray(),this.options.showAdjacentMonths&&(s=e.clone().subtract(1,"months").startOf("month"),a=s.clone().endOf("month"),i=n.clone().add(1,"months").startOf("month"),o=i.clone().endOf("month"),this.eventsLastMonth=v(this.options.events).filter(function(){var t=this._clndrEndDateObject.isBefore(s),e=this._clndrStartDateObject.isAfter(a);return!t&&!e}).toArray(),this.eventsNextMonth=v(this.options.events).filter(function(){var t=this._clndrEndDateObject.isBefore(i),e=this._clndrStartDateObject.isAfter(o);return!t&&!e}).toArray())),!this.options.lengthOfTime.days)if((t=l.weekday()-this.options.weekOffset)<0&&(t+=7),this.options.showAdjacentMonths)for(var d=1;d<=t;d++){var c=u([e.year(),e.month(),d]).subtract(t,"days");h.push(this.createDayObject(c,this.eventsLastMonth))}else for(d=0;d<t;d++)h.push(this.calendarDay({classes:this.options.targets.empty+" "+this.options.classes.lastMonth}));for(r=e.clone();r.isBefore(n)||r.isSame(n,"day");)h.push(this.createDayObject(r.clone(),this.eventsThisInterval)),r.add(1,"days");if(!this.options.lengthOfTime.days)for(;h.length%7!=0;)this.options.showAdjacentMonths?h.push(this.createDayObject(r.clone(),this.eventsNextMonth)):h.push(this.calendarDay({classes:this.options.targets.empty+" "+this.options.classes.nextMonth})),r.add(1,"days");if(this.options.forceSixRows&&42!==h.length)for(;h.length<42;)this.options.showAdjacentMonths?(h.push(this.createDayObject(r.clone(),this.eventsNextMonth)),r.add(1,"days")):h.push(this.calendarDay({classes:this.options.targets.empty+" "+this.options.classes.nextMonth}));return h},n.prototype.createDayObject=function(t,e){var n,s,a,i=0,o=u(),r=[],h="",l={isToday:!1,isInactive:!1,isAdjacentMonth:!1};for(!t.isValid()&&t.hasOwnProperty("_d")&&null!=t._d&&(t=u(t._d));i<e.length;i++){var d=e[i]._clndrStartDateObject,c=e[i]._clndrEndDateObject;(t.isSame(d,"day")||t.isAfter(d,"day"))&&(t.isSame(c,"day")||t.isBefore(c,"day"))&&r.push(e[i])}return o.format("YYYY-MM-DD")==t.format("YYYY-MM-DD")&&(h+=" "+this.options.classes.today,l.isToday=!0),t.isBefore(o,"day")&&(h+=" "+this.options.classes.past),r.length&&(h+=" "+this.options.classes.event),this.options.lengthOfTime.days||(this._currentIntervalStart.month()>t.month()?(h+=" "+this.options.classes.adjacentMonth,l.isAdjacentMonth=!0,h+=this._currentIntervalStart.year()===t.year()?" "+this.options.classes.lastMonth:" "+this.options.classes.nextMonth):this._currentIntervalStart.month()<t.month()&&(h+=" "+this.options.classes.adjacentMonth,l.isAdjacentMonth=!0,h+=this._currentIntervalStart.year()===t.year()?" "+this.options.classes.nextMonth:" "+this.options.classes.lastMonth)),this.options.constraints&&(s=u(this.options.constraints.endDate),n=u(this.options.constraints.startDate),this.options.constraints.startDate&&t.isBefore(n)&&(h+=" "+this.options.classes.inactive,l.isInactive=!0),this.options.constraints.endDate&&t.isAfter(s)&&(h+=" "+this.options.classes.inactive,l.isInactive=!0)),!t.isValid()&&t.hasOwnProperty("_d")&&null!=t._d&&(t=u(t._d)),a=u(this.options.selectedDate),this.options.selectedDate&&t.isSame(a,"day")&&(h+=" "+this.options.classes.selected),h+=" calendar-day-"+t.format("YYYY-MM-DD"),h+=" calendar-dow-"+t.weekday(),this.calendarDay({date:t,day:t.date(),events:r,properties:l,classes:this.options.targets.day+h})},n.prototype.render=function(){var t,e,n,s={},a=null,i=null,o=this.intervalEnd.clone().add(1,"years"),r=this.intervalStart.clone().subtract(1,"years");if(this.calendarContainer.empty(),this.options.lengthOfTime.days)s={days:d=this.createDaysObject(this.intervalStart.clone(),this.intervalEnd.clone()),months:[],year:null,month:null,eventsLastMonth:[],eventsNextMonth:[],eventsThisMonth:[],extras:this.options.extras,daysOfTheWeek:this.daysOfTheWeek,intervalEnd:this.intervalEnd.clone(),numberOfRows:Math.ceil(d.length/7),intervalStart:this.intervalStart.clone(),eventsThisInterval:this.eventsThisInterval};else if(this.options.lengthOfTime.months){for(t=[],e=[],v=n=0;v<this.options.lengthOfTime.months;v++){var h=this.intervalStart.clone().add(v,"months"),l=h.clone().endOf("month"),d=this.createDaysObject(h,l);e.push(this.eventsThisInterval),t.push({days:d,month:h})}for(v in t)n+=Math.ceil(t[v].days.length/7);s={days:[],year:null,month:null,months:t,eventsThisMonth:[],numberOfRows:n,extras:this.options.extras,intervalEnd:this.intervalEnd,intervalStart:this.intervalStart,daysOfTheWeek:this.daysOfTheWeek,eventsLastMonth:this.eventsLastMonth,eventsNextMonth:this.eventsNextMonth,eventsThisInterval:e}}else d=this.createDaysObject(this.month.clone().startOf("month"),this.month.clone().endOf("month")),this.month,s={days:d,months:[],intervalEnd:null,intervalStart:null,year:this.month.year(),eventsThisInterval:null,extras:this.options.extras,month:this.month.format("MMMM"),daysOfTheWeek:this.daysOfTheWeek,eventsLastMonth:this.eventsLastMonth,eventsNextMonth:this.eventsNextMonth,numberOfRows:Math.ceil(d.length/7),eventsThisMonth:this.eventsThisInterval};if(this.options.render?this.calendarContainer.html(this.options.render.apply(this,[s])):this.calendarContainer.html(this.compiledClndrTemplate(s)),this.options.constraints){for(var c in this.options.targets)c!=this.options.targets.day&&this.element.find("."+this.options.targets[c]).toggleClass(this.options.classes.inactive,!1);for(var v in this.constraints)this.constraints[v]=!0;this.options.constraints.startDate&&(i=u(this.options.constraints.startDate)),this.options.constraints.endDate&&(a=u(this.options.constraints.endDate)),i&&(i.isAfter(this.intervalStart)||i.isSame(this.intervalStart,"day"))&&(this.element.find("."+this.options.targets.previousButton).toggleClass(this.options.classes.inactive,!0),this.constraints.previous=!this.constraints.previous),a&&(a.isBefore(this.intervalEnd)||a.isSame(this.intervalEnd,"day"))&&(this.element.find("."+this.options.targets.nextButton).toggleClass(this.options.classes.inactive,!0),this.constraints.next=!this.constraints.next),i&&i.isAfter(r)&&(this.element.find("."+this.options.targets.previousYearButton).toggleClass(this.options.classes.inactive,!0),this.constraints.previousYear=!this.constraints.previousYear),a&&a.isBefore(o)&&(this.element.find("."+this.options.targets.nextYearButton).toggleClass(this.options.classes.inactive,!0),this.constraints.nextYear=!this.constraints.nextYear),(i&&i.isAfter(u(),"month")||a&&a.isBefore(u(),"month"))&&(this.element.find("."+this.options.targets.today).toggleClass(this.options.classes.inactive,!0),this.constraints.today=!this.constraints.today)}this.options.doneRendering&&this.options.doneRendering.apply(this,[])},n.prototype.bindEvents=function(){var t={},s=this,a=v(this.element),e=this.options.targets,i=s.options.classes,n=(!0===this.options.useTouchEvents?"touchstart":"click")+".clndr";a.off(n,"."+e.day).off(n,"."+e.empty).off(n,"."+e.nextButton).off(n,"."+e.todayButton).off(n,"."+e.previousButton).off(n,"."+e.nextYearButton).off(n,"."+e.previousYearButton),a.on(n,"."+e.day,function(t){var e,n=v(t.currentTarget);if(s.options.clickEvents.click&&(e=s.buildTargetObject(t.currentTarget,!0),s.options.clickEvents.click.apply(s,[e])),s.options.adjacentDaysChangeMonth&&(n.is("."+i.lastMonth)?s.backActionWithContext(s):n.is("."+i.nextMonth)&&s.forwardActionWithContext(s)),s.options.trackSelectedDate){if(s.options.ignoreInactiveDaysInSelection&&n.hasClass(i.inactive))return;s.options.selectedDate=s.getTargetDateString(t.currentTarget),a.find("."+i.selected).removeClass(i.selected),n.addClass(i.selected)}}),a.on(n,"."+e.empty,function(t){var e,n=v(t.currentTarget);s.options.clickEvents.click&&(e=s.buildTargetObject(t.currentTarget,!1),s.options.clickEvents.click.apply(s,[e])),s.options.adjacentDaysChangeMonth&&(n.is("."+i.lastMonth)?s.backActionWithContext(s):n.is("."+i.nextMonth)&&s.forwardActionWithContext(s))}),t={context:this},a.on(n,"."+e.todayButton,t,this.todayAction).on(n,"."+e.nextButton,t,this.forwardAction).on(n,"."+e.previousButton,t,this.backAction).on(n,"."+e.nextYearButton,t,this.nextYearAction).on(n,"."+e.previousYearButton,t,this.previousYearAction)},n.prototype.buildTargetObject=function(t,e){var n,s,a={date:null,events:[],element:t};return e&&(n=this.getTargetDateString(t),a.date=n?u(n):null,this.options.events&&(s=this.options.multiDayEvents?function(){var t=a.date.isSame(this._clndrStartDateObject,"day"),e=a.date.isAfter(this._clndrStartDateObject,"day"),n=a.date.isSame(this._clndrEndDateObject,"day"),s=a.date.isBefore(this._clndrEndDateObject,"day");return(t||e)&&(n||s)}:function(){return this._clndrStartDateObject.format("YYYY-MM-DD")==n},a.events=v.makeArray(v(this.options.events).filter(s)))),a},n.prototype.getTargetDateString=function(t){var e=t.className.indexOf("calendar-day-");return-1!==e?t.className.substring(e+13,e+23):null},n.prototype.triggerEvents=function(t,e){var n,s,a,i,o,r,h,l,d,c=t.options.lengthOfTime,v=t.options.clickEvents,p={end:t.intervalEnd,start:t.intervalStart},y=[u(t.intervalStart),u(t.intervalEnd)],f=[u(t.month)];i=p.start.isAfter(e.start)&&(1==Math.abs(p.start.month()-e.start.month())||11===e.start.month()&&0===p.start.month()),o=p.start.isBefore(e.start)&&(1==Math.abs(e.start.month()-p.start.month())||0===e.start.month()&&11===p.start.month()),r=p.start.month()!==e.start.month()||p.start.year()!==e.start.year(),n=p.start.year()-e.start.year()==1||p.end.year()-e.end.year()==1,s=e.start.year()-p.start.year()==1||e.end.year()-p.end.year()==1,a=p.start.year()!==e.start.year(),c.days||c.months?(h=p.start.isAfter(e.start),l=p.start.isBefore(e.start),d=h||l,h&&v.nextInterval&&v.nextInterval.apply(t,y),l&&v.previousInterval&&v.previousInterval.apply(t,y),d&&v.onIntervalChange&&v.onIntervalChange.apply(t,y)):(i&&v.nextMonth&&v.nextMonth.apply(t,f),o&&v.previousMonth&&v.previousMonth.apply(t,f),r&&v.onMonthChange&&v.onMonthChange.apply(t,f),n&&v.nextYear&&v.nextYear.apply(t,f),s&&v.previousYear&&v.previousYear.apply(t,f),a&&v.onYearChange&&v.onYearChange.apply(t,f))},n.prototype.back=function(t,e){var n=1<arguments.length?e:this,s=n.options.lengthOfTime,a={withCallbacks:!1},i={end:n.intervalEnd.clone(),start:n.intervalStart.clone()};return t=v.extend(!0,{},a,t),n.constraints.previous&&(s.days?(n.intervalStart.subtract(s.interval,"days").startOf("day"),n.intervalEnd=n.intervalStart.clone().add(s.days-1,"days").endOf("day")):(n.intervalStart.subtract(s.interval,"months").startOf("month"),n.intervalEnd=n.intervalStart.clone().add(s.months||s.interval,"months").subtract(1,"days").endOf("month")),n.month=n.intervalStart.clone(),n.render(),t.withCallbacks&&n.triggerEvents(n,i)),n},n.prototype.backAction=function(t){var e=t.data.context;e.backActionWithContext(e)},n.prototype.backActionWithContext=function(t){t.back({withCallbacks:!0},t)},n.prototype.previous=function(t){return this.back(t)},n.prototype.forward=function(t,e){var n=1<arguments.length?e:this,s=n.options.lengthOfTime,a={withCallbacks:!1},i={end:n.intervalEnd.clone(),start:n.intervalStart.clone()};return t=v.extend(!0,{},a,t),n.constraints.next&&(n.options.lengthOfTime.days?(n.intervalStart.add(s.interval,"days").startOf("day"),n.intervalEnd=n.intervalStart.clone().add(s.days-1,"days").endOf("day")):(n.intervalStart.add(s.interval,"months").startOf("month"),n.intervalEnd=n.intervalStart.clone().add(s.months||s.interval,"months").subtract(1,"days").endOf("month")),n.month=n.intervalStart.clone(),n.render(),t.withCallbacks&&n.triggerEvents(n,i)),n},n.prototype.forwardAction=function(t){var e=t.data.context;e.forwardActionWithContext(e)},n.prototype.forwardActionWithContext=function(t){t.forward({withCallbacks:!0},t)},n.prototype.next=function(t){return this.forward(t)},n.prototype.previousYear=function(t,e){var n=1<arguments.length?e:this,s={withCallbacks:!1},a={end:n.intervalEnd.clone(),start:n.intervalStart.clone()};return t=v.extend(!0,{},s,t),n.constraints.previousYear&&(n.month.subtract(1,"year"),n.intervalStart.subtract(1,"year"),n.intervalEnd.subtract(1,"year"),n.render(),t.withCallbacks&&n.triggerEvents(n,a)),n},n.prototype.previousYearAction=function(t){var e=t.data.context;e.previousYear({withCallbacks:!0},e)},n.prototype.nextYear=function(t,e){var n=1<arguments.length?e:this,s={withCallbacks:!1},a={end:n.intervalEnd.clone(),start:n.intervalStart.clone()};return t=v.extend(!0,{},s,t),n.constraints.nextYear&&(n.month.add(1,"year"),n.intervalStart.add(1,"year"),n.intervalEnd.add(1,"year"),n.render(),t.withCallbacks&&n.triggerEvents(n,a)),n},n.prototype.nextYearAction=function(t){var e=t.data.context;e.nextYear({withCallbacks:!0},e)},n.prototype.today=function(t,e){var n=1<arguments.length?e:this,s=n.options.lengthOfTime,a={withCallbacks:!1},i={end:n.intervalEnd.clone(),start:n.intervalStart.clone()};t=v.extend(!0,{},a,t),n.month=u().startOf("month"),s.days?(s.startDate?n.intervalStart=u().weekday(s.startDate.weekday()).startOf("day"):n.intervalStart=u().weekday(0).startOf("day"),n.intervalEnd=n.intervalStart.clone().add(s.days-1,"days").endOf("day")):(n.intervalStart=u().startOf("month"),n.intervalEnd=n.intervalStart.clone().add(s.months||s.interval,"months").subtract(1,"days").endOf("month")),n.intervalStart.isSame(i.start)&&n.intervalEnd.isSame(i.end)||n.render(),t.withCallbacks&&(n.options.clickEvents.today&&n.options.clickEvents.today.apply(n,[u(n.month)]),n.triggerEvents(n,i))},n.prototype.todayAction=function(t){var e=t.data.context;e.today({withCallbacks:!0},e)},n.prototype.setMonth=function(t,e){var n=this.options.lengthOfTime,s={end:this.intervalEnd.clone(),start:this.intervalStart.clone()};return n.days||n.months?console.log("You are using a custom date interval. Use Clndr.setIntervalStart(startDate) instead."):(this.month.month(t),this.intervalStart=this.month.clone().startOf("month"),this.intervalEnd=this.intervalStart.clone().endOf("month"),this.render(),e&&e.withCallbacks&&this.triggerEvents(this,s)),this},n.prototype.setYear=function(t,e){var n={end:this.intervalEnd.clone(),start:this.intervalStart.clone()};return this.month.year(t),this.intervalEnd.year(t),this.intervalStart.year(t),this.render(),e&&e.withCallbacks&&this.triggerEvents(this,n),this},n.prototype.setIntervalStart=function(t,e){var n=this.options.lengthOfTime,s={end:this.intervalEnd.clone(),start:this.intervalStart.clone()};return n.days||n.months?(n.days?(this.intervalStart=u(t).startOf("day"),this.intervalEnd=this.intervalStart.clone().add(n-1,"days").endOf("day")):(this.intervalStart=u(t).startOf("month"),this.intervalEnd=this.intervalStart.clone().add(n.months||n.interval,"months").subtract(1,"days").endOf("month")),this.month=this.intervalStart.clone(),this.render(),e&&e.withCallbacks&&this.triggerEvents(this,s)):console.log("You are using a custom date interval. Use Clndr.setIntervalStart(startDate) instead."),this},n.prototype.setEvents=function(t){return this.options.multiDayEvents?this.options.events=this.addMultiDayMomentObjectsToEvents(t):this.options.events=this.addMomentObjectToEvents(t),this.render(),this},n.prototype.addEvents=function(t,e){var n=!(1<arguments.length)||e;return this.options.multiDayEvents?this.options.events=v.merge(this.options.events,this.addMultiDayMomentObjectsToEvents(t)):this.options.events=v.merge(this.options.events,this.addMomentObjectToEvents(t)),n&&this.render(),this},n.prototype.removeEvents=function(t){for(var e=this.options.events.length-1;0<=e;e--)1==t(this.options.events[e])&&this.options.events.splice(e,1);return this.render(),this},n.prototype.addMomentObjectToEvents=function(t){for(var e=0,n=this;e<t.length;e++)t[e]._clndrStartDateObject=u(t[e][n.options.dateParameter]),t[e]._clndrEndDateObject=u(t[e][n.options.dateParameter]);return t},n.prototype.addMultiDayMomentObjectsToEvents=function(t){for(var e=0,n=this.options.multiDayEvents;e<t.length;e++){var s=t[e][n.endDate],a=t[e][n.startDate];s||a?(t[e]._clndrEndDateObject=u(s||a),t[e]._clndrStartDateObject=u(a||s)):(t[e]._clndrEndDateObject=u(t[e][n.singleDay]),t[e]._clndrStartDateObject=u(t[e][n.singleDay]))}return t},n.prototype.calendarDay=function(t){var e={day:"",date:null,events:[],classes:this.options.targets.empty};return v.extend({},e,t)},n.prototype.destroy=function(){var t=v(this.calendarContainer);t.parent().data("plugin_clndr",null),this.options=i,t.empty().remove(),this.element=null},v.fn.clndr=function(t){var e;if(1<this.length)throw new Error("CLNDR does not support multiple elements yet. Make sure your clndr selector returns only one element.");if(!this.length)throw new Error("CLNDR cannot be instantiated on an empty selector.");return this.data("plugin_clndr")?this.data("plugin_clndr"):(e=new n(this,t),this.data("plugin_clndr",e),e)}});