("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})(["jquery"],function(P){return function(){function e(e,t,n){return u({type:f.error,iconClass:M().iconClasses.error,message:e,optionsOverride:n,title:t})}function k(e,t){return e||(e=M()),(q=P("#"+e.containerId)).length||t&&(q=l(e)),q}function t(e,t,n){return u({type:f.info,iconClass:M().iconClasses.info,message:e,optionsOverride:n,title:t})}function n(e){p=e}function o(e,t,n){return u({type:f.success,iconClass:M().iconClasses.success,message:e,optionsOverride:n,title:t})}function s(e,t,n){return u({type:f.warning,iconClass:M().iconClasses.warning,message:e,optionsOverride:n,title:t})}function i(e,t){var n=M();q||k(n),c(e,n,t)||r(n)}function a(e){var t=M();return q||k(t),e&&0===P(":focus",e).length?void B(e):void(q.children().length&&q.remove())}function r(e){for(var t=q.children(),n=t.length-1;0<=n;n--)c(P(t[n]),e)}function c(e,t,n){var o=!(!n||!n.force)&&n.force;return!(!e||!o&&0!==P(":focus",e).length||(e[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){B(e)}}),0))}function l(e){return(q=P("<div/>").attr("id",e.containerId).addClass(e.positionClass)).appendTo(P(e.target)),q}function d(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function I(e){p&&p(e)}function u(t){function n(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function e(){a(),c(),l(),d(),u(),p(),r(),o()}function o(){var e="";switch(t.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}O.attr("aria-live",e)}function s(){C.closeOnHover&&O.hover(h,m),!C.onclick&&C.tapToDismiss&&O.click(g),C.closeButton&&x&&x.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),C.onCloseClick&&C.onCloseClick(e),g(!0)}),C.onclick&&O.click(function(e){C.onclick(e),g()})}function i(){O.hide(),O[C.showMethod]({duration:C.showDuration,easing:C.showEasing,complete:C.onShown}),0<C.timeOut&&(T=setTimeout(g,C.timeOut),E.maxHideTime=parseFloat(C.timeOut),E.hideEta=(new Date).getTime()+E.maxHideTime,C.progressBar&&(E.intervalId=setInterval(v,10)))}function a(){t.iconClass&&O.addClass(C.toastClass).addClass(w)}function r(){C.newestOnTop?q.prepend(O):q.append(O)}function c(){if(t.title){var e=t.title;C.escapeHtml&&(e=n(t.title)),b.append(e).addClass(C.titleClass),O.append(b)}}function l(){if(t.message){var e=t.message;C.escapeHtml&&(e=n(t.message)),D.append(e).addClass(C.messageClass),O.append(D)}}function d(){C.closeButton&&(x.addClass(C.closeClass).attr("role","button"),O.prepend(x))}function u(){C.progressBar&&(H.addClass(C.progressClass),O.prepend(H))}function p(){C.rtl&&O.addClass("rtl")}function f(e,t){if(e.preventDuplicates){if(t.message===j)return!0;j=t.message}return!1}function g(e){var t=e&&!1!==C.closeMethod?C.closeMethod:C.hideMethod,n=e&&!1!==C.closeDuration?C.closeDuration:C.hideDuration,o=e&&!1!==C.closeEasing?C.closeEasing:C.hideEasing;if(!P(":focus",O).length||e)return clearTimeout(E.intervalId),O[t]({duration:n,easing:o,complete:function(){B(O),clearTimeout(T),C.onHidden&&"hidden"!==y.state&&C.onHidden(),y.state="hidden",y.endTime=new Date,I(y)}})}function m(){(0<C.timeOut||0<C.extendedTimeOut)&&(T=setTimeout(g,C.extendedTimeOut),E.maxHideTime=parseFloat(C.extendedTimeOut),E.hideEta=(new Date).getTime()+E.maxHideTime)}function h(){clearTimeout(T),E.hideEta=0,O.stop(!0,!0)[C.showMethod]({duration:C.showDuration,easing:C.showEasing})}function v(){var e=(E.hideEta-(new Date).getTime())/E.maxHideTime*100;H.width(e+"%")}var C=M(),w=t.iconClass||C.iconClass;if("undefined"!=typeof t.optionsOverride&&(C=P.extend(C,t.optionsOverride),w=t.optionsOverride.iconClass||w),!f(C,t)){F++,q=k(C,!0);var T=null,O=P("<div/>"),b=P("<div/>"),D=P("<div/>"),H=P("<div/>"),x=P(C.closeHtml),E={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:F,state:"visible",startTime:new Date,options:C,map:t};return e(),i(),s(),I(y),C.debug&&console&&console.log(y),O}}function M(){return P.extend({},d(),g.options)}function B(e){q||(q=k()),e.is(":visible")||(e.remove(),e=null,0===q.children().length&&(q.remove(),j=void 0))}var q,p,j,F=0,f={error:"error",info:"info",success:"success",warning:"warning"},g={clear:i,remove:a,error:e,getContainer:k,info:t,options:{},subscribe:n,success:o,version:"2.1.3",warning:s};return g}()});